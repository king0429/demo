<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src = 'jquery.min.js'></script>
	<style type="text/css">
		*{margin: 0;padding: 0}
		ul{
			list-style-type: none;
			display: block;
			width: 400px;
			height: 50px;
			margin: 100px auto;
			position: relative;
		}
		li{
			float: left;
			width: 25%;
			height: 100%;
			text-align: center;
			line-height: 50px;
			font-size: 24px;
			cursor: pointer;
		}
		.line{
			width: 25%;
			height: 90%;
			position: absolute;
			left: 0;
			top: 0;
			border-bottom: 3px solid red;
		}
	</style>
</head>
<body>
	<ul>
		<div class="line"></div>
		<li>1</li>
		<li>2</li>
		<li>3</li>
		<li>4</li>
	</ul>
	<script type="text/javascript">
		var j = 0;
		$('li').click(function() {
			var i = $(this).index();
			console.log(i);
			if (i>j) {
				if (i<=$('li').length-1) {
					$('.line').animate({left: (i-1)*100+30+'px'}, 200,function () {
							$('.line').animate({left: (i-1)*100+'px'},200)
					})
				}else{
				$('.line').animate({left: (i-1)*100+'px'}, 200)
				}
				j = i;
			} else {
				if (i!=1) {
					console.log(i);
					$('.line').animate({left: (i-1)*100-30+'px'}, 200,function () {
							$('.line').animate({left: (i-1)*100+'px'},200)
					})
				}else{
					$('.line').animate({left: (i-1)*100+'px'}, 200)
				}
				j = i;
			}


		});	
	</script>
</body>
</html>