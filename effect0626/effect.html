<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		#wrap{position: relative;margin: 50px auto;width: 300px;height: 400px;border: 1px solid green}
		#pir{display: block;position: absolute;top: 0;width: 300px;height: 400px;}
		#canvas{display: block;position: absolute;top: 0;background: rgba(0,0,0,0.7);}
	</style>
</head>
<body>
	<div id="wrap">
		<img id="pir" src="22.jpg" alt="">
		<canvas id="canvas"></canvas>
	</div>
	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		var img = document.getElementById('pir');
		canvas.width = pir.width;
		canvas.height = pir.height;
		var ctx = canvas.getContext('2d');
		var i = 0;
		var timer;
		function load(i) {
			ctx.save();
			ctx.beginPath();
			ctx.strokeStyle = 'rgb(240,240,240)';
			ctx.fillStyle = 'rgb(240,240,240)';
			ctx.arc(canvas.width/2,canvas.height/2,pir.width/15,0,Math.PI*2);
			ctx.lineWidth = 2;
			ctx.stroke();
			ctx.beginPath();
			ctx.moveTo(canvas.width/2,canvas.height/2)
			ctx.arc(canvas.width/2,canvas.height/2,pir.width/15-5,0,Math.PI/180*i,false)
			ctx.fill();
			ctx.restore();
		}
		timer = setInterval(function(){
			i++;
			ctx.clearRect(0,0,canvas.width,canvas.height);
			load(i);
			if (i==360) {
				clearInterval(timer);
				canvas.remove();
			}
		}, 10);
	</script>
</body>
</html>